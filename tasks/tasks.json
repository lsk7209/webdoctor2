{
  "tasks": [
    {
      "id": "1",
      "title": "프로젝트 초기 설정 및 개발 환경 구축",
      "description": "Next.js App Router 기반 프로젝트 초기화, TypeScript 설정, TailwindCSS 및 shadcn/ui 설정, 기본 폴더 구조 생성",
      "details": "- Next.js 14+ App Router 프로젝트 생성\n- TypeScript 설정 및 ESLint/Prettier 구성\n- TailwindCSS 및 shadcn/ui 설치 및 설정\n- 프로젝트 폴더 구조 생성 (app, features, components, entities, hooks, theme, utils)\n- 절대경로 alias 설정 (@/components, @/features 등)\n- 기본 Theme Provider 및 CssBaseline 설정",
      "status": "pending",
      "priority": "high",
      "dependencies": [],
      "testStrategy": "프로젝트 빌드 성공, 기본 라우팅 동작 확인"
    },
    {
      "id": "2",
      "title": "데이터베이스 스키마 설계 및 D1 초기화",
      "description": "Cloudflare D1 데이터베이스 스키마 설계 및 마이그레이션 파일 생성",
      "details": "- User, Workspace, Site, CrawlJob, PageSnapshot, Issue, Integration, MetricDaily 테이블 스키마 설계\n- D1 마이그레이션 파일 생성\n- 관계형 데이터 정규화 설계\n- 인덱스 최적화 계획",
      "status": "pending",
      "priority": "high",
      "dependencies": ["1"],
      "testStrategy": "마이그레이션 실행 성공, 테이블 생성 확인"
    },
    {
      "id": "3",
      "title": "인증 시스템 구현 (이메일/비밀번호 기반)",
      "description": "JWT 기반 인증 시스템, 회원가입, 로그인, 비밀번호 찾기 기능 구현",
      "details": "- 회원가입 API 엔드포인트 (/api/auth/signup)\n- 로그인 API 엔드포인트 (/api/auth/login)\n- JWT 토큰 생성 및 검증 로직\n- 비밀번호 해싱 (bcrypt)\n- 비밀번호 찾기 (이메일 리셋 링크)\n- 세션 관리 미들웨어\n- 로그인/회원가입 UI 페이지",
      "status": "pending",
      "priority": "high",
      "dependencies": ["2"],
      "testStrategy": "회원가입/로그인 플로우 E2E 테스트, JWT 토큰 검증 테스트"
    },
    {
      "id": "4",
      "title": "워크스페이스 및 사이트 관리 기능",
      "description": "워크스페이스 생성, 사이트 등록, 사이트 목록 조회 기능 구현",
      "details": "- 워크스페이스 자동 생성 로직 (회원가입 시)\n- 사이트 등록 API (/api/sites)\n- 사이트 목록 조회 API\n- 사이트 상세 조회 API\n- 플랜별 제약 검증 로직 (사이트 수, 페이지 수)\n- 사이트 등록 UI (/sites, /sites/[siteId])",
      "status": "pending",
      "priority": "high",
      "dependencies": ["3"],
      "testStrategy": "사이트 등록 플로우 테스트, 플랜 제약 검증 테스트"
    },
    {
      "id": "5",
      "title": "웹 크롤러 엔진 개발",
      "description": "사이트 크롤링을 위한 크롤러 엔진 개발 (robots.txt 체크, sitemap 우선순위, BFS 탐색)",
      "details": "- robots.txt 파싱 및 준수 로직\n- sitemap.xml 우선순위 크롤링\n- BFS 기반 페이지 탐색 (sitemap 없을 경우)\n- User-Agent 설정 (KoreSEO Crawler)\n- HTTP 상태 코드 체크\n- 페이지 제한 로직 (플랜별 page_limit)\n- 크롤 깊이 제한 (crawl_depth_limit)\n- Cloudflare Queue를 통한 비동기 크롤 작업 처리",
      "status": "pending",
      "priority": "high",
      "dependencies": ["2", "4"],
      "testStrategy": "크롤러 단위 테스트, 다양한 사이트 구조에 대한 크롤 테스트"
    },
    {
      "id": "6",
      "title": "페이지 데이터 수집 및 파싱",
      "description": "크롤된 페이지에서 SEO 관련 데이터 추출 (메타태그, 헤딩, 링크, 구조화 데이터 등)",
      "details": "- HTML 파싱 (cheerio 또는 유사 라이브러리)\n- 메타 태그 추출 (title, description, robots)\n- 헤딩 구조 추출 (H1~H3)\n- 링크 추출 (내부/외부 링크 구분)\n- 이미지 alt 속성 추출\n- Canonical URL 추출\n- 구조화 데이터 (JSON-LD) 파싱\n- PageSnapshot 테이블에 데이터 저장",
      "status": "pending",
      "priority": "high",
      "dependencies": ["5"],
      "testStrategy": "다양한 HTML 구조에 대한 파싱 정확도 테스트"
    },
    {
      "id": "7",
      "title": "Lighthouse/Pagespeed 통합",
      "description": "주요 페이지에 대한 Lighthouse 성능 및 SEO 점수 수집",
      "details": "- Lighthouse API 또는 Pagespeed Insights API 연동\n- 주요 페이지 선별 로직 (상위 100페이지)\n- Performance 및 SEO 점수 수집\n- Core Web Vitals 데이터 수집\n- PageSnapshot에 lighthouse_score_json 저장\n- API 비용 최적화 (캐싱, 배치 처리)",
      "status": "pending",
      "priority": "medium",
      "dependencies": ["6"],
      "testStrategy": "Lighthouse 점수 수집 정확도 테스트, API 호출 비용 모니터링"
    },
    {
      "id": "8",
      "title": "SEO 감사 룰 엔진 개발",
      "description": "수집된 데이터를 기반으로 SEO 이슈를 감지하는 룰 엔진 구현",
      "details": "- 룰 정의 구조 설계\n- 기본 룰 세트 구현:\n  * missing_title\n  * duplicate_title\n  * short_or_long_description\n  * no_h1\n  * multiple_h1\n  * broken_internal_link\n  * no_canonical_on_parameterized\n  * slow_page\n  * no_structured_data\n- 이슈 severity 계산 (high/medium/low)\n- Issue 테이블에 이슈 저장\n- 룰 확장 가능한 구조 설계",
      "status": "pending",
      "priority": "high",
      "dependencies": ["6", "7"],
      "testStrategy": "각 룰에 대한 단위 테스트, 다양한 시나리오 검증"
    },
    {
      "id": "9",
      "title": "To-Do 이슈 리스트 UI 개발",
      "description": "사이트별 SEO 이슈를 보여주는 대시보드 및 필터링 기능",
      "details": "- Site Health 점수 계산 및 표시 (0-100)\n- 이슈 개수 표시 (high/medium/low)\n- 이슈 리스트 테이블\n- 필터 기능 (issue_type, severity, status)\n- 이슈 상세 패널/페이지\n- 해결 가이드 표시\n- 영향받는 페이지 목록 표시\n- 이슈 상태 업데이트 (open/in_progress/resolved/ignored)",
      "status": "pending",
      "priority": "high",
      "dependencies": ["8"],
      "testStrategy": "UI 컴포넌트 테스트, 필터링 기능 테스트"
    },
    {
      "id": "10",
      "title": "Google Search Console (GSC) OAuth 연동",
      "description": "GSC OAuth 인증 및 사이트별 property 연결",
      "details": "- Google OAuth 2.0 설정\n- GSC API 인증 플로우\n- 사용자별 GSC 계정 연동\n- 사이트별 property 선택 및 연결\n- Integration 테이블에 연결 정보 저장\n- 연결 상태 관리 UI",
      "status": "pending",
      "priority": "medium",
      "dependencies": ["4"],
      "testStrategy": "OAuth 플로우 테스트, GSC API 연결 테스트"
    },
    {
      "id": "11",
      "title": "GSC 데이터 동기화 및 저장",
      "description": "GSC에서 검색 성과 데이터를 정기적으로 동기화하여 저장",
      "details": "- GSC Search Analytics API 호출\n- 키워드별 데이터 수집 (query, clicks, impressions, ctr, avg_position)\n- 페이지별 데이터 수집\n- KeywordDaily 테이블에 데이터 저장\n- 정기 동기화 크론 작업 (일 1회)\n- Lazy refresh (인사이트 탭 진입 시)\n- 동기화 상태 관리",
      "status": "pending",
      "priority": "medium",
      "dependencies": ["10"],
      "testStrategy": "GSC 데이터 동기화 정확도 테스트, 크론 작업 테스트"
    },
    {
      "id": "12",
      "title": "Google Analytics 4 (GA4) 연동",
      "description": "GA4 property 및 data stream 선택, 세션 데이터 수집",
      "details": "- GA4 API 인증 및 설정\n- Property 및 Data Stream 선택 UI\n- GA4 Reporting API 연동\n- 페이지별 세션 데이터 수집 (sessions, users, bounce_rate, avg_session_duration)\n- PageMetricDaily 테이블에 데이터 저장\n- 정기 동기화 크론 작업\n- Integration 테이블에 연결 정보 저장",
      "status": "pending",
      "priority": "medium",
      "dependencies": ["4"],
      "testStrategy": "GA4 API 연동 테스트, 데이터 수집 정확도 테스트"
    },
    {
      "id": "13",
      "title": "인사이트 대시보드 개발",
      "description": "GSC/GA4 데이터를 통합하여 보여주는 인사이트 대시보드",
      "details": "- 상단 카드 (지난 7일 vs 이전 7일 비교)\n- Keywords 탭 (테이블, 필터, 트렌드)\n- Pages 탭 (페이지별 성과 통합)\n- CTR Issues 탭 (순위 대비 CTR 낮은 페이지)\n- 차트 및 시각화 (선택적)\n- 기간 필터 기능",
      "status": "pending",
      "priority": "medium",
      "dependencies": ["11", "12"],
      "testStrategy": "인사이트 데이터 정확도 테스트, UI 반응성 테스트"
    },
    {
      "id": "14",
      "title": "네이버 검색 크롤링 기반 상태 추정",
      "description": "네이버 검색 결과를 크롤링하여 사이트 노출 여부 및 대표 URL 수집",
      "details": "- 네이버 검색 크롤링 (site:도메인)\n- 검색 결과 수집 및 파싱\n- 노출 여부 판단\n- 대표 URL 리스트 수집\n- Search 탭 UI에 표시\n- IndexNow API 호출 (신규 콘텐츠 발행 시)",
      "status": "pending",
      "priority": "low",
      "dependencies": ["4"],
      "testStrategy": "네이버 검색 크롤링 정확도 테스트"
    },
    {
      "id": "15",
      "title": "색인 상태 UI 개발",
      "description": "구글/네이버 색인 상태를 보여주는 Search 탭 UI",
      "details": "- 구글 색인 상태 (GSC 데이터 기반)\n- 네이버 노출 여부 표시\n- 대표 검색 결과 URL 리스트\n- 색인 오류 페이지 수 표시\n- /sites/[siteId]/search 라우트",
      "status": "pending",
      "priority": "low",
      "dependencies": ["11", "14"],
      "testStrategy": "색인 상태 표시 정확도 테스트"
    },
    {
      "id": "16",
      "title": "콘텐츠 진단 룰 개발",
      "description": "콘텐츠 품질을 평가하는 추가 룰 세트 구현",
      "details": "- H 구조 검증 (H1 1개, 계층 구조)\n- 내부 링크 검증 (본문 300자 내, H2 섹션별)\n- 외부 링크 검증 (신뢰할 수 있는 도메인)\n- 가독성 점수 계산 (문장 길이, 문단 길이)\n- 이미지 alt 비율 계산\n- 콘텐츠 진단 이슈 생성",
      "status": "pending",
      "priority": "medium",
      "dependencies": ["8"],
      "testStrategy": "콘텐츠 진단 룰 정확도 테스트"
    },
    {
      "id": "17",
      "title": "AI 메타태그 추천 기능",
      "description": "OpenAI API를 활용한 메타 타이틀/설명 추천 기능",
      "details": "- OpenAI API 연동\n- 한국어 SEO 최적화 프롬프트 설계\n- 메타 타이틀 3개 후보 생성\n- 메타 설명 3개 후보 생성 (80-140자)\n- 키워드/태그 추천\n- 이미지 alt 텍스트 제안\n- UI: Page 상세 화면에 'AI 추천' 버튼\n- 사용자 선택 후 저장 구조",
      "status": "pending",
      "priority": "medium",
      "dependencies": ["6"],
      "testStrategy": "AI 추천 품질 테스트, 한국어 자연스러움 검증"
    },
    {
      "id": "18",
      "title": "리포트 PDF/CSV 익스포트 기능",
      "description": "SEO 리포트를 PDF 및 CSV 형식으로 내보내기",
      "details": "- PDF 리포트 생성 (사이트 요약, 이슈 Top5, 클릭/노출 추이)\n- CSV 익스포트 (Issues, Keywords, Pages)\n- 필터/검색 조건 반영\n- 리포트 생성 API 엔드포인트\n- 다운로드 UI 버튼",
      "status": "pending",
      "priority": "low",
      "dependencies": ["9", "13"],
      "testStrategy": "PDF/CSV 생성 정확도 테스트, 파일 다운로드 테스트"
    },
    {
      "id": "19",
      "title": "이메일 알림 시스템",
      "description": "첫 감사 완료, 주간 리포트, 치명적 이슈 알림 이메일 발송",
      "details": "- 이메일 서비스 연동 (SendGrid, Resend 등)\n- 첫 감사 완료 이메일 템플릿\n- 주간 리포트 이메일 템플릿 (매주 월 09:00 KST)\n- 치명적 이슈 알림 이메일 (rate limit: 하루 1회)\n- 이메일 발송 큐 처리\n- Cloudflare Cron을 통한 주간 리포트 스케줄링",
      "status": "pending",
      "priority": "medium",
      "dependencies": ["8"],
      "testStrategy": "이메일 발송 테스트, 스케줄링 테스트"
    },
    {
      "id": "20",
      "title": "주간 자동 감사 크론 작업",
      "description": "플랜별 주간 자동 SEO 감사 실행 크론 작업",
      "details": "- Cloudflare Cron 설정\n- 플랜별 감사 주기 확인\n- 자동 크롤 작업 생성\n- 크롤 완료 후 이슈 재평가\n- 실패 시 재시도 로직\n- Admin에서 모니터링 가능하도록 로깅",
      "status": "pending",
      "priority": "high",
      "dependencies": ["5", "8"],
      "testStrategy": "크론 작업 실행 테스트, 실패 처리 테스트"
    },
    {
      "id": "21",
      "title": "Admin 대시보드 개발",
      "description": "서비스 전체 상태를 모니터링하는 Admin 대시보드",
      "details": "- Admin 인증 (별도 로그인 또는 RBAC)\n- 대시보드 카드 (사용자 수, 활성 사이트 수, 크롤 실패 수, 이슈 통계)\n- 실패한 CrawlJob 목록 테이블\n- 재시도 버튼 기능\n- /(admin) 레이아웃 라우팅",
      "status": "pending",
      "priority": "medium",
      "dependencies": ["3"],
      "testStrategy": "Admin 권한 테스트, 대시보드 데이터 정확도 테스트"
    },
    {
      "id": "22",
      "title": "Admin 품질 게이트 관리",
      "description": "SEO 품질 규칙을 관리하는 Admin 기능",
      "details": "- 품질 규칙 정의 구조 (Title 길이, Description 길이, H2 형식 등)\n- 규칙 on/off 토글\n- 임계값 수정 UI\n- 규칙 엔진과의 연동 구조 설계\n- /admin/quality 라우트",
      "status": "pending",
      "priority": "low",
      "dependencies": ["21", "8"],
      "testStrategy": "규칙 관리 기능 테스트"
    },
    {
      "id": "23",
      "title": "Admin Jobs 모니터링",
      "description": "크론 작업 및 배치 작업 모니터링 기능",
      "details": "- Jobs 리스트 (job type, last_run_at, last_status)\n- 수동 실행 기능\n- 에러 메시지 확인\n- /admin/jobs 라우트",
      "status": "pending",
      "priority": "low",
      "dependencies": ["21"],
      "testStrategy": "Jobs 모니터링 기능 테스트"
    },
    {
      "id": "24",
      "title": "Admin 플랜/유저 관리",
      "description": "사용자 플랜 변경 및 계정 관리 기능",
      "details": "- 사용자 검색 (email)\n- 플랜 변경 UI (trial_basic → basic/pro/enterprise)\n- Trial 연장 기능\n- 계정 정지 기능\n- /admin/settings 라우트",
      "status": "pending",
      "priority": "medium",
      "dependencies": ["21"],
      "testStrategy": "플랜 변경 기능 테스트, 권한 테스트"
    },
    {
      "id": "25",
      "title": "온보딩 플로우 완성",
      "description": "회원가입 후 첫 사이트 등록 및 첫 감사 실행까지의 완전한 온보딩 플로우",
      "details": "- 회원가입 성공 시 워크스페이스 자동 생성\n- trial_basic 플랜 설정 (14일)\n- 사이트 추가 모달 자동 표시\n- 첫 크롤 작업 자동 시작\n- 대기 화면 UI\n- 크롤 완료 후 대시보드 리다이렉트\n- 첫 감사 완료 이메일 발송\n- 플랜 만료 시 제한 UI",
      "status": "pending",
      "priority": "high",
      "dependencies": ["3", "4", "5", "19"],
      "testStrategy": "전체 온보딩 플로우 E2E 테스트"
    }
  ]
}

